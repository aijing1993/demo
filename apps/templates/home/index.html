{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock title %}

<!-- Specific CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

    <div class="row gap-20 masonry pos-r">
      <div class="masonry-sizer col-md-6"></div>
      <div class="masonry-item w-100">
        <div class="row gap-20">
          <!-- #Toatl Visits ==================== -->
          <div class="col-md-3">
            <div class="layers bd bgc-white p-20">
              <div class="layer w-100 mB-10">
                <h6 class="lh-1">Total Office Visits</h6>
              </div>
              <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                  <div class="peer peer-greed">
                    <i class="fa fa-hospital-o fa-2x c-orange-700"></i>
                  </div>
                  <div class="peer">
                    <span class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-green-50 c-green-500">{{ counts }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- #Total Page Views ==================== -->
          <div class="col-md-3">
            <div class="layers bd bgc-white p-20">
              <div class="layer w-100 mB-10">
                <h6 class="lh-1">Total Medical Cost</h6>
              </div>
              <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                  <div class="peer peer-greed">
                    <i class="fa fa-credit-card fa-2x c-purple-500"></i>
                  </div>
                  <div class="peer">
                    <span class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-red-50 c-red-500">{{ cost }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- #Unique Visitors ==================== -->
          <div class="col-md-3">
            <div class="layers bd bgc-white p-20">
              <div class="layer w-100 mB-10">
                <h6 class="lh-1">Total Care Plans</h6>
              </div>
              <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                  <div class="peer peer-greed">
                    <i class="fa fa-stethoscope fa-2x c-blue-500"></i>
                  </div>
                  <div class="peer">
                    <span class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-purple-50 c-purple-500">{{ cp_counts }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- #Bounce Rate ==================== -->
          <div class="col-md-3">
            <div class="layers bd bgc-white p-20">
              <div class="layer w-100 mB-10">
                <h6 class="lh-1">Your Next Appointment</h6>
              </div>
              <div class="layer w-100">
                <div class="peers ai-sb fxw-nw">
                  <div class="peer peer-greed">
                    <i class="fa fa-calendar-check-o fa-2x c-red-500"></i>
                  </div>
                  <div class="peer">
                    <span class="d-ib lh-0 va-m fw-600 bdrs-10em pX-15 pY-15 bgc-blue-50 c-blue-500">{{ next_appt }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
     
      <div class="masonry-item col-md-6">
        <!-- #Monthly Stats ==================== -->
        <div class="bd bgc-white">
          <div class="layers">
            <div class="layer w-100 pX-20 pT-20">
              <h6 class="lh-1">Your Lab Results</h6>
            </div>
            <div class="layer w-100 p-20">
              <!-- <canvas id="line-chart" height="220"></canvas> -->
              <div id="test-div">  
                {% include 'home/test-div.html' %}
              </div>
            </div>
            <div class="layer bdT p-20 w-100">
              <div class="peers ai-c jc-c gapX-20">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="masonry-item col-md-6">
        <!-- #Todo ==================== -->
        <div class="bd bgc-white p-20">
          <div class="layers">
            <div class="layer w-100 mB-10">
              <h6 class="lh-1">Checklist for Recommended Tests</h6>
            </div>
            <div class="layer w-100">
              <ul class="list-task list-group" data-role="tasklist">
                {% for test in test_list %}
                <li class="list-group-item bdw-0" data-role="task">
                  <div class="checkbox checkbox-circle checkbox-info peers ai-c">
                    <input type="checkbox" id="{{ test[0] }}" name="inputCheckboxesCall" class="peer">
                    <label for="{{ test[0] }}" class="peers peer-greed js-sb ai-c">
                      <span class="peer peer-greed">{{ test[0] }}</span>
                      <span class="peer">
                        <span class="badge badge-pill fl-r badge-success lh-0 p-10">{{ test[1] }}</span>
                      </span>
                    </label>
                  </div>
                </li>
                {% endfor %}
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="masonry-item col-md-6">
        <!-- #Sales Report ==================== -->
        <div class="bd bgc-white">
          <div class="layers">
            <div class="layer w-100 p-20">
              <h6 class="lh-1">Medications List</h6>
            </div>
            <div class="layer w-100">
              <div class="bd bgc-white">
                <div class="peers ai-c jc-sb gap-40">
                  <!-- <div class="peer peer-greed">
                    <h5>Descriptions</h5>
                    <p class="mB-0">Total Cost</p>
                  </div>
                  <div class="peer">
                    <h3 class="text-right">$6,000</h3>
                  </div> -->
                </div>
              </div>
              <div class="table-responsive p-20">
                <table class="table">
                  <thead>
                    <tr>
                        <th class="bdwT-0">Code</th>
                        <th class="bdwT-0">Description</th>
                        <th class="bdwT-0">Dispenses</th>
                         <th class="bdwT-0">Total Cost</th>
                    </tr>
                  </thead>
                  <tbody>
                  {% for medication in medications %}
                    <tr>
                      <td class="fw-600"> {{ medication['code'] }} </td>
                      <td><span class="badge bgc-red-50 c-red-700 p-10 lh-0 tt-c badge-pill">{{ medication['description'] }}</span> </td>
                      <td>{{ medication['dispenses'] }}</td>
                      <td><span class="text-success">{{ medication['totalcost'] }}</span></td>
                    </tr>
                  {% endfor %}
                  </tbody>
                </table>
                </div>
            </div>
            </div>
          </div>
          <div class="ta-c bdT w-100 p-20">
            <a href="/all_medications">Check all the medications</a>
          </div>

        </div>
      
      <div class="masonry-item col-md-6">
        <!-- #Chat ==================== -->
        <div class="bd bgc-white">
          <div class="layers">
            <div class="layer w-100 p-20">
              <h6 class="lh-1">Leave a Note to your PCP</h6>
            </div>
            <div class="layer w-100">
              <!-- Chat Box -->
              <div class="bgc-grey-200 p-20 gapY-15">
                <!-- Chat Conversation -->
                <div class="peers fxw-nw">
                  <div class="peer mR-20">
                    <img id="img_pcp_chat" class="w-2r bdrs-50p" src="https://randomuser.me/api/portraits/men/11.jpg" alt="">
                  </div>
                  <div class="peer peer-greed">
                    <div class="layers ai-fs gapY-5">
                      <div class="layer">
                        <div class="peers fxw-nw ai-c pY-3 pX-10 bgc-white bdrs-2 lh-3/2">
                          <div class="peer mR-10">
                            <small>10:00 AM</small>
                          </div>
                          <div class="peer-greed">
                            <span>{{ pcp_contact }}</span>
                          </div>
                        </div>
                      </div>
                      <div class="layer">
                        <div class="peers fxw-nw ai-c pY-3 pX-10 bgc-white bdrs-2 lh-3/2">
                          <div class="peer mR-10">
                            <small>10:00 AM</small>
                          </div>
                          <div class="peer-greed">
                            <span>If you have any questions for your medical billing, please contact your health plan.</span>
                          </div>
                        </div>
                      </div>
                      <div class="layer">
                        <div class="peers fxw-nw ai-c pY-3 pX-10 bgc-white bdrs-2 lh-3/2">
                          <div class="peer mR-10">
                            <small>10:00 AM</small>
                          </div>
                          <div class="peer-greed">
                            <span>Based on our record, your health plan is {{ health_plan }} and its contact phone number is {{ phone }}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Chat Conversation -->
                <div class="peers fxw-nw ai-fe">
                  <div class="peer ord-1 mL-20">
                    <img id="img_patient_chat" class="w-2r bdrs-50p" src="https://randomuser.me/api/portraits/men/12.jpg" alt="">
                  </div>
                  <div class="peer peer-greed ord-0">
                    <div class="layers ai-fe gapY-10">
                      <div class="layer">
                        <div class="peers fxw-nw ai-c pY-3 pX-10 bgc-white bdrs-2 lh-3/2">
                          <div class="peer mL-10 ord-1">
                            <small>10:00 AM</small>
                          </div>
                          <div class="peer-greed ord-0">
                            <span>Hello, Dr. {{ pcp_lname }}</span>
                          </div>
                        </div>
                      </div>
                      <div class="layer">
                        <div class="peers fxw-nw ai-c pY-3 pX-10 bgc-white bdrs-2 lh-3/2">
                          <div class="peer mL-10 ord-1">
                            <small>10:00 AM</small>
                          </div>
                          <div class="peer-greed ord-0">
                            <span>Can we reschedule our appointment to next week?</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Chat Send -->
              <div class="p-20 bdT bgc-white">
                <div class="pos-r">
                  <input type="text" class="form-control bdrs-10em m-0" placeholder="Say something...">
                  <button type="button" class="btn btn-primary bdrs-50p w-2r p-0 h-2r pos-a r-1 t-1">
                    <i class="fa fa-paper-plane-o"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="medication"></div>

    <div class="container"></div>
    <script src="../../static/assets/JS/appointment.js"></script>
            
{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
